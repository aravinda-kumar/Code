# cpp 继承

- 形式
	- 类的定义 : 继承限定词 父类

- 继承限定词
	- 默认是private;
	- 父类的private在子类不可见，其余在外部的访问权限由继承限定词决定
	- public继承 		-- 父类成员访问修饰符不变
	- protected继承 	-- 父类public在子类中变成protected,其余不变
	- private继承 	-- 父类所有成员在子类中变成protected;

- 成员的继承
	- 构造函数
		- 先执行父类的构造函数，再执行子类的构造函数
		- 父类的参数要通过子类的初始化列表初始化
		- 父类的构造函数有参数，则子类必须要有含参数的构造函数
			- CDri(int a, int b, int c):CBase(a, b);
		- 父类有多个构造函数，子类的参数列表写的谁，就调用的谁；
		- 也要避免默认值参数对调用的干扰。
	- 析构函数
		- 调用顺序
			- 先子类后父类，和构造函数调用顺序相反
	- 覆盖
		- 父类和子类有同名成员出现的时候，就出现了覆盖，本质就是不同作用域中的同名变量
			- 数据成员同名
				- 类内：子类覆盖父类
				- 类外：类名作用域区分 -- s.CFather::a;
			- 函数成员同名
				- 只要名字相同，不管参数列表。子类覆盖父类，也可以通过类名作用域调用父类。
					- s.CFather::Show();
	- 不能继承的函数
		- 构造函数不能被继承
		- 析构函数不能被继承
		- 友元函数不能被继承
	- 静态数据成员只有一份，所以可以说是共享，模糊的可以认为是继承

- 虚继承
	- 多继承
		- 多个基类
			- 可能出现访问不明确的问题
			- A中有a变量
			- B, C继承A
			- D继承B, C
			- 此时定义D的对象，通过D的对象调用a的时候，指代不明确
		- 子类的子类
	- 虚继承是多继承中特有的概念，虚拟类是为了解决多继承而出现的
	- 写法
		- class CB :virtual public CA;
	- 虚继承的时候只对父类的变量有使用权，没有进行复制
		- A中有a变量
		- B, C虚继承A	-- 此时B，C只获得了变量a的使用权，B，C中没有复制a变量
		- D继承B, C   -- 同理，D只获得了变量a的使用权，D中也没有复制a变量
		- 此时定义D的对象，D对象可以调用a
	- 多继承不建议使用，结构复杂，内存开销大
	- 虚继承的父类叫做虚基类